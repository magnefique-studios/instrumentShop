<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="warn" name="products" packages="">

 <Appenders>
      <Console name="Console" target="SYSTEM_OUT">
         <JsonLayout compact="true" eventEol="true">
            <KeyValuePair key="trace_id" value="${ctx:trace_id}"/>
            <KeyValuePair key="span_id" value="${ctx:span_id}"/>
            <KeyValuePair key="service.name" value="${sys:otel.resource.service.name}"/>
            <KeyValuePair key="deployment.environment" value="${sys:otel.resource.deployment.environment}"/>
            <KeyValuePair key="trace_sampled" value="${ctx:trace_flags}"/>
         </JsonLayout>
      </Console>
  
		<File name="MyFile"
			fileName="logs/products-${date:yyyy-MM-ddHHmmssSSS}.log">
			  <JsonLayout compact="true" eventEol="true">
            <KeyValuePair key="trace_id" value="${ctx:trace_id}"/>
            <KeyValuePair key="span_id" value="${ctx:span_id}"/>
            <KeyValuePair key="service.name" value="${sys:otel.resource.service.name}"/>
            <KeyValuePair key="deployment.environment" value="${sys:otel.resource.deployment.environment}"/>
            <KeyValuePair key="trace_sampled" value="${ctx:trace_flags}"/>
         </JsonLayout>
		</File>
	</Appenders>
	<Loggers>
		<Root level="info">
			<AppenderRef ref="MyFile"/>
			<AppenderRef ref="Console"/>
		</Root>
	</Loggers>
</Configuration>